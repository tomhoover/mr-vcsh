[DEFAULT]
jobs = 5
git_gc = git gc "$@"
git_dum = git diff --name-status upstream/master 2> /dev/null || true

#include = cat ~/.config/mr/`uname`.mrconfig 2>/dev/null || true
#include = cat ~/.config/mr/`hostname -s`.mrconfig 2>/dev/null || true
include = cat ~/.config/mr/`uname`.mrconfig || true
include = cat ~/.config/mr/`hostname -s`.mrconfig || true
include = cat ~/.config/mr/src.mrconfig || true
include = cat ~/.config/mr/vcsh.mrconfig || true

### read-only repos

[.oh-my-zsh]
checkout = git clone 'https://github.com/robbyrussell/oh-my-zsh.git' '.oh-my-zsh'
skip = ([ "$1" = update ] && ! hours_since "$1" 12)
push = echo "not pushing this one, read-only"

### common repos

[bin]
checkout = git clone 'git@github.com:tomhoover/bin.git' 'bin'

[src/bootstrap]
checkout = git clone 'git@github.com:tomhoover/bootstrap.git' 'bootstrap'

[src/dotfiles]
checkout = git clone 'git@github.com:tomhoover/dotfiles.git' 'dotfiles'

[src/tomhoover.github.io]
checkout = git clone 'git@github.com:tomhoover/tomhoover.github.io.git' 'tomhoover.github.io'
order = 5

[src/jekyll-tomhoover]
checkout =
	git clone 'git@github.com:tomhoover/jekyll-tomhoover.git' 'jekyll-tomhoover'
	cd "$MR_REPO"
	git remote add upstream git://github.com/mmistakes/so-simple-theme.git

[src/hugo-tomhoover]
checkout =
	git clone 'git@github.com:tomhoover/hugo-tomhoover.git' 'hugo-tomhoover'
fixups =
	ln -sf $HOME/src/tomhoover.github.io "$MR_REPO/public"

[src/hugo-tomhoover/themes/blackburn]
checkout =
	git clone 'git@github.com:tomhoover/blackburn.git' 'blackburn'
	cd "$MR_REPO"
	git remote add upstream https://github.com/yoshiharuyamashita/blackburn.git
order = 15
